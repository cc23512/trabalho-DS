<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Agendar Consulta</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="../public/agendar.css" />
  </head>

  <body>
    <div class="bg__register"></div>
    <div class="container__div">
      <img src="../public/imgs/logo_heart.png" alt="" />
      <div class="heading">Agendar Consulta</div>
      <form action="/agendar" method="post" class="form">
        <label for="idMedico">Selecione o Médico:</label>
        <select id="idMedico" name="idMedico" required>
          <% for (const medico of medicos) { %>
          <option value="<%= medico.idMedico %>">
            <%= `${medico.nomeMedico} - ${medico.especialidade}` %>
          </option>
          <% } %>
        </select>

        <label for="idPaciente">ID do Paciente:</label>
        <input
          type="text"
          class="input"
          id="idPaciente"
          name="idPaciente"
          value="<%= paciente.idPaciente %>"
          readonly
        />

        <label for="dataConsulta">Data da Consulta:</label>
        <input
          type="date"
          class="input"
          id="dataConsulta"
          name="dataConsulta"
          required
        />

        <label for="horaConsulta">Horário da Consulta:</label>
        <input
          type="time"
          class="input"
          id="horaConsulta"
          name="horaConsulta"
          required
        />

        <label for="tipoDeConsulta">Tipo de Consulta:</label>
        <input
          type="text"
          class="input"
          id="tipoDeConsulta"
          name="tipoDeConsulta"
          required
        />

        <label for="statusDaConsulta">Status da Consulta:</label>
        <select id="statusDaConsulta" name="statusDaConsulta" required>
          <option value="Ativa">Ativa</option>
          <option value="Realizada">Realizada</option>
          <option value="Cancelada">Cancelada</option>
        </select>

        <!-- Botão para agendar consulta -->
        <button type="submit" class="login-button">Agendar Consulta</button>
      </form>

      <!-- Link para redirecionar para /dashboard -->
      <a href="/dashboard" class="dashboard-link">Ir para o Dashboard</a>
    </div>
  </body>
</html>
